## 8.1 함수 옮기기

> 

```js
// before
class Account {
    get overdraftCharge() {}
}
```

```js
// after
class AccountType {
    get overdraftCharge() {}
}
```

### 배경
- 모듈성(modularity)
  - 프로그램을 수정할 때, 관련된 일부만 이해해도 수정할 수 있도록 하는 능력 (= 분리가 잘 되어있다)
  - 연관된 요소는 함께 묶고, 요소 간 연결 관계를 쉽게 찾고 이해할 수 있도록 해야 함
    - 프로그램 이해도가 높아지면 요소들을 더 잘 묶을 수 있음. 이를 위한 방법을 이 장에서 소개할 것
- 모든 함수는 어떤 '컨텍스트' 안에 존재
  - 객체지향 프로그래밍 핵심 모듈화 컨텍스트 = 클래스
  - 함수 중첩

### 절차
1. 선택한 함수가 현재 컨텍스트에서 사용 중인 모든 요소를 살펴보기
  - 함께 옮길건 없는지 고민하기
  - 얽힌 함수가 여러개면, 영향력이 작은 함수부터 옮기자
2. 선택한 함수가 다형 메서드인지 확인
  - 같은 메서드가 슈퍼클래스나 서브클래스에도 있는지 고려하기
3. 선택한 함수를 타깃 컨텍스트로 복사 (원래함수 = 소스함수, 복사한 함수 = 타깃함수)
4. 정적 분석
5. 소스 컨텍스트에서 타깃 함수를 참조할 방법 찾아 반영하기
6. 소스함수를 타깃함수의 위임함수가 되도록 수정하기
7. 테스트
8. 소스함수를 인라인할지 고민
  - 소스함수를 호출하는 곳에서 타깃함수를 직접 호출해도 무리가 없다면 소스함수는 제거하는 편이 낫다

